"use strict";angular.module("viajesApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","ui.select"]).config(["$routeProvider",function(a){a.when("/busquedaAuto/:idPaquete",{templateUrl:"views/busquedaAuto.html",controller:"BusquedaAutoCtrl",controllerAs:"vm"}).when("/busquedaHotel/:idPaquete",{templateUrl:"views/busquedaHotel.html",controller:"BusquedaHotelCtrl",controllerAs:"vm"}).when("/busquedaVuelo/:idPaquete",{templateUrl:"views/busquedaVuelo.html",controller:"BusquedaVueloCtrl",controllerAs:"vm"}).when("/busquedaAuto",{templateUrl:"views/busquedaAutoSinUser.html",controller:"BusquedaAutoSinUserCtrl",controllerAs:"vm"}).when("/busquedaHotel",{templateUrl:"views/busquedaHotelSinUser.html",controller:"BusquedaHotelSinUserCtrl",controllerAs:"vm"}).when("/busquedaVuelo",{templateUrl:"views/busquedaVueloSinUser.html",controller:"BusquedaVueloSinUserCtrl",controllerAs:"vm"}).when("/miCarrito",{templateUrl:"views/miCarrito.html",controller:"MiCarritoCtrl",controllerAs:"vm"}).when("/misReservas",{templateUrl:"views/misPaquetes.html",controller:"MisPaquetesCtrl",controllerAs:"vm"}).when("/miPaquete/:idPaquete",{templateUrl:"views/miPaquete.html",controller:"MiPaqueteCtrl",controllerAs:"vm"}).when("/usuarios",{templateUrl:"views/usuarios.html",controller:"UsuariosCtrl",controllerAs:"vm"}).when("/login",{templateUrl:"views/login.html",controller:"LoginCtrl",controllerAs:"vm"}).when("/signin",{templateUrl:"views/signin.html",controller:"SigninCtrl",controllerAs:"vm"}).when("/home",{templateUrl:"views/home.html",controller:"HomeCtrl",controllerAs:"vm"}).when("/logOut",{templateUrl:"views/home.html",controller:"LogOutCtrl",controllerAs:"vm"}).otherwise({redirectTo:"/home"})}]),angular.module("viajesApp").controller("BusquedaAutoSinUserCtrl",["$location","$scope","$filter","AutoService","CiudadService","UserService",function(a,b,c,d,e,f){function g(){e.getCiudades().then(function(a){b.ciudades=a})}b.busqueda={},b.ciudades=[],b.ciudad={},b.resultadoBusqueda=[],b.currentDate=new Date,b.errorMessage=!1,b.enBusqueda=!1,g(),b.isLoggedIn=function(){return f.isLoggedIn()},b.buscar=function(){if(b.resultadoBusqueda=[],b.errorMessage=!1,d.reset(),b.busqueda.lugarRetiro&&b.busqueda.lugarDevolucion&&b.busqueda.fechaRetiro&&b.busqueda.fechaDevolucion)if(b.busqueda.fechaRetiro<=b.busqueda.fechaDevolucion){var a=c("date")(b.busqueda.fechaRetiro,"dd-MM-yyyy"),e=c("date")(b.busqueda.fechaDevolucion,"dd-MM-yyyy");d.getAutos(b.busqueda.lugarRetiro._id,b.busqueda.lugarDevolucion._id,a,e).then(function(a){b.resultadoBusqueda=a,b.enBusqueda=!0})}else b.errorMessage=!0},b.irBusquedaHoteles=function(){a.path("/busquedaHotel")},b.irBusquedaVuelo=function(){a.path("/busquedaVuelo")}}]),angular.module("viajesApp").controller("BusquedaAutoCtrl",["$location","$routeParams","$scope","$filter","AutoService","CiudadService","UserService","PaqueteService",function(a,b,c,d,e,f,g,h){function i(){f.getCiudades().then(function(a){c.ciudades=a})}c.autos=[],c.busqueda={},c.ciudades=[],c.ciudad={},c.resultadoBusqueda=[],c.idPaquete=b.idPaquete,c.currentDate=new Date,c.errorMessage=!1,c.enBusqueda=!1,i(),c.isLoggedIn=function(){return g.isLoggedIn()},c.buscar=function(){if(c.resultadoBusqueda=[],c.errorMessage=!1,e.reset(),c.busqueda.lugarRetiro&&c.busqueda.lugarDevolucion&&c.busqueda.fechaRetiro&&c.busqueda.fechaDevolucion)if(c.busqueda.fechaRetiro<=c.busqueda.fechaDevolucion){var a=d("date")(c.busqueda.fechaRetiro,"dd-MM-yyyy"),b=d("date")(c.busqueda.fechaDevolucion,"dd-MM-yyyy");e.getAutos(c.busqueda.lugarRetiro._id,c.busqueda.lugarDevolucion._id,a,b).then(function(a){for(var b=0;b<a.length;b++)a[b].enCarrito=!1;c.resultadoBusqueda=a,c.enBusqueda=!0})}else c.errorMessage=!0},c.agregarAlCarrito=function(a){var b=d("date")(c.busqueda.fechaRetiro,"dd-MM-yyyy"),e=d("date")(c.busqueda.fechaDevolucion,"dd-MM-yyyy");h.nuevaReservaAuto(c.idPaquete,a._id,a.monto,c.busqueda.lugarRetiro._id,c.busqueda.lugarDevolucion._id,b,e).then(function(b){console.log(b),h.reset(),a.enCarrito=!0})},c.irBusquedaHoteles=function(){a.path("/busquedaHotel/"+c.idPaquete)},c.irBusquedaVuelo=function(){a.path("/busquedaVuelo/"+c.idPaquete)}}]),angular.module("viajesApp").controller("BusquedaHotelSinUserCtrl",["$filter","$location","$scope","HotelService","CiudadService","UserService",function(a,b,c,d,e,f){function g(){e.getCiudades().then(function(a){c.ciudades=a})}c.busqueda={},c.ciudades=[],c.ciudad={},c.resultadoBusqueda=[],c.currentDate=new Date,c.opcionEstrellas=[{id:99,name:""},{id:1,name:"1"},{id:2,name:"2"},{id:3,name:"3"},{id:4,name:"4"},{id:5,name:"5"}],c.busqueda.estrellas=c.opcionEstrellas[0],c.errorMessage=!1,c.enBusqueda=!1,g(),c.isLoggedIn=function(){return f.isLoggedIn()},c.buscar=function(){if(c.resultadoBusqueda=[],c.errorMessage=!1,c.busqueda.destino&&c.busqueda.fechaIngreso&&c.busqueda.fechaSalida)if(c.busqueda.fechaIngreso<c.busqueda.fechaSalida){d.reset();var a=c.busqueda.estrellas?c.busqueda.estrellas.id:99;d.getHoteles(c.busqueda.destino._id,a).then(function(a){c.resultadoBusqueda=a,c.enBusqueda=!0})}else c.errorMessage=!0},c.irBusquedaAuto=function(){b.path("/busquedaAuto")},c.irBusquedaVuelo=function(){b.path("/busquedaVuelo")}}]),angular.module("viajesApp").controller("BusquedaHotelCtrl",["$filter","$location","$routeParams","$scope","HotelService","CiudadService","PaqueteService","UserService",function(a,b,c,d,e,f,g,h){function i(){f.getCiudades().then(function(a){d.ciudades=a})}d.hoteles=[],d.busqueda={},d.ciudades=[],d.ciudad={},d.resultadoBusqueda=[],d.idPaquete=c.idPaquete,d.paquete=null,d.currentDate=new Date,d.opcionEstrellas=[{id:99,name:""},{id:1,name:"1"},{id:2,name:"2"},{id:3,name:"3"},{id:4,name:"4"},{id:5,name:"5"}],d.busqueda.estrellas=d.opcionEstrellas[0],d.errorMessage=!1,d.enBusqueda=!1,i(),d.isLoggedIn=function(){return h.isLoggedIn()},d.buscar=function(){d.resultadoBusqueda=[],d.errorMessage=!1,d.busqueda.destino&&d.busqueda.fechaIngreso&&d.busqueda.fechaSalida&&(d.busqueda.fechaIngreso<d.busqueda.fechaSalida?(g.reset(),g.getPaquete(d.idPaquete).then(function(a){d.paquete=a,e.reset();var b=d.busqueda.estrellas?d.busqueda.estrellas.id:99;e.getHoteles(d.busqueda.destino._id,b).then(function(a){for(var b=0;b<a.length;b++)a[b].enCarrito=!1;d.resultadoBusqueda=a,d.enBusqueda=!0})})):d.errorMessage=!0)},d.agregarAlCarrito=function(b){var c=a("date")(d.busqueda.fechaIngreso,"dd-MM-yyyy"),e=a("date")(d.busqueda.fechaSalida,"dd-MM-yyyy");g.nuevaReservaHotel(d.idPaquete,b._id,b.monto,c,e).then(function(){g.reset(),b.enCarrito=!0})},d.irBusquedaAuto=function(){b.path("/busquedaAuto/"+d.idPaquete)},d.irBusquedaVuelo=function(){b.path("/busquedaVuelo/"+d.idPaquete)}}]),angular.module("viajesApp").controller("BusquedaVueloSinUserCtrl",["$filter","$location","$scope","AerolineaService","CiudadService","UserService","VueloService",function(a,b,c,d,e,f,g){function h(){e.getCiudades().then(function(a){c.ciudades=a}),d.getAerolineas().then(function(a){c.aerolineas=a})}c.busqueda={},c.ciudades=[],c.aerolineas=[],c.ciudad={},c.resultadoBusqueda=[],c.currentDate=new Date,c.enBusqueda=!1,h(),c.isLoggedIn=function(){return f.isLoggedIn()},c.buscar=function(){c.resultadoBusqueda=[];var b;if(g.reset(),c.busqueda.origen&&c.busqueda.destino&&c.busqueda.fecha){var d=a("date")(c.busqueda.fecha,"dd-MM-yyyy");b=c.busqueda.aerolinea?c.busqueda.aerolinea._id:99,console.log(b),g.getVuelos(c.busqueda.origen._id,c.busqueda.destino._id,d,b).then(function(a){c.resultadoBusqueda=a,c.enBusqueda=!0})}},c.irBusquedaAuto=function(){b.path("/busquedaAuto")},c.irBusquedaHotel=function(){b.path("/busquedaHotel")}}]),angular.module("viajesApp").controller("BusquedaVueloCtrl",["$filter","$location","$routeParams","$scope","AerolineaService","CiudadService","PaqueteService","UserService","VueloService",function(a,b,c,d,e,f,g,h,i){function j(){f.getCiudades().then(function(a){d.ciudades=a}),e.getAerolineas().then(function(a){d.aerolineas=a})}d.vuelos=[],d.busqueda={},d.ciudades=[],d.aerolineas=[],d.ciudad={},d.resultadoBusqueda=[],d.idPaquete=c.idPaquete,d.currentDate=new Date,d.enBusqueda=!1,j(),d.isLoggedIn=function(){return h.isLoggedIn()},d.buscar=function(){d.resultadoBusqueda=[];var b;if(i.reset(),d.busqueda.origen&&d.busqueda.destino&&d.busqueda.fecha){var c=a("date")(d.busqueda.fecha,"dd-MM-yyyy");b=d.busqueda.aerolinea?d.busqueda.aerolinea._id:99,console.log(b),i.getVuelos(d.busqueda.origen._id,d.busqueda.destino._id,c,b).then(function(a){for(var b=0;b<a.length;b++)a[b].enCarrito=!1,d.enBusqueda=!0;console.log(a),d.resultadoBusqueda=a})}},d.agregarAlCarrito=function(a){g.nuevaReservaVuelo(d.idPaquete,a._id,a.precio).then(function(){g.reset(),a.enCarrito=!0})},d.irBusquedaAuto=function(){b.path("/busquedaAuto/"+d.idPaquete)},d.irBusquedaHotel=function(){b.path("/busquedaHotel/"+d.idPaquete)}}]),angular.module("viajesApp").controller("HomeCtrl",["$location","$scope","PaqueteService","UserService",function(a,b,c,d){function e(){b.isLoggedIn=d.isLoggedIn()}b.isLoggedIn=!1,b.currentUser={email:"",name:""},b.buscarAutos=function(){b.isLoggedIn?(b.currentUser=d.currentUser(),c.getPaqueteActual(b.currentUser.email).then(function(b){console.log(b),a.path("/busquedaAuto/"+b._id)})):a.path("/busquedaAuto")},b.buscarHoteles=function(){b.isLoggedIn?(b.currentUser=d.currentUser(),c.getPaqueteActual(b.currentUser.email).then(function(b){console.log(b),a.path("/busquedaHotel/"+b._id)})):a.path("/busquedaHotel")},b.buscarVuelos=function(){b.isLoggedIn?(b.currentUser=d.currentUser(),c.getPaqueteActual(b.currentUser.email).then(function(b){console.log(b),a.path("/busquedaVuelo/"+b._id)})):a.path("/busquedaVuelo")},e()}]),angular.module("viajesApp").controller("LoginCtrl",["$location","$scope","UserService",function(a,b,c){b.credentials={email:"",password:""},b.error="",b.login=function(){b.loginForm.$valid&&c.login(b.credentials).then(function(){a.path("/lists")})["catch"](function(){b.error="El usuario o la contraseña no son validos. Por favor intentar nuevamente."})},b.signin=function(){a.path("/signin")}}]),angular.module("viajesApp").controller("LogOutCtrl",["$location","$scope","UserService",function(a,b,c){function d(){c.logout(),a.path("/home")}d()}]),angular.module("viajesApp").controller("MiCarritoCtrl",["$filter","$location","$rootScope","$scope","HotelService","CiudadService","PaqueteService","UserService",function(a,b,c,d,e,f,g,h){function i(){h.isLoggedIn()?(d.currentUser=h.currentUser(),g.getPaqueteActual(d.currentUser.email).then(function(a){d.paquete=a,d.idPaquete=d.paquete._id,window.localStorage.montoPaquete=d.paquete.montoTotal,window.data=d.paquete.montoTotal})):b.path("/home")}function j(){g.pagarPaquete(d.idPaquete,d.nombrePaquete).then(function(){d.pagoExitoso=!0})}d.hoteles=[],d.busqueda={},d.ciudades=[],d.ciudad={},d.resultadoBusqueda=[],d.idPaquete=null,d.paquete=null,d.pagoExitoso=!1,d.nombrePaquete="Mi paquete",d.editNombrePaquete=!1,d.currentUser={email:"",name:""},i(),d.modificarNombrePaquete=function(a){d.nombrePaquete=a,d.editNombrePaquete=!1,b.path("/miCarrito")},d.editarNombrePaquete=function(){d.editNombrePaquete=!0,b.path("/miCarrito")},d.buscarAutos=function(){h.isLoggedIn()?(d.currentUser=h.currentUser(),g.getPaqueteActual(d.currentUser.email).then(function(a){b.path("/busquedaAuto/"+a._id)})):b.path("/busquedaAuto")},d.buscarHoteles=function(){h.isLoggedIn()?(d.currentUser=h.currentUser(),g.getPaqueteActual(d.currentUser.email).then(function(a){b.path("/busquedaHotel/"+a._id)})):b.path("/busquedaHotel")},d.buscarVuelos=function(){h.isLoggedIn()?(d.currentUser=h.currentUser(),g.getPaqueteActual(d.currentUser.email).then(function(a){b.path("/busquedaVuelo/"+a._id)})):b.path("/busquedaVuelo")},d.quitarVueloDelCarrito=function(a){g.quitarVueloDelPaquete(a._id,d.idPaquete).then(function(){i()})},d.quitarHotelDelCarrito=function(a){g.quitarHotelDelPaquete(a._id,d.idPaquete).then(function(){i()})},d.quitarAutoDelCarrito=function(a){g.quitarAutoDelPaquete(a._id,d.idPaquete).then(function(){i()})},d.irAInicio=function(){b.path("/home")},d.irAMisReservas=function(){b.path("/misReservas")},c.$on("pagarPaquete",j)}]),angular.module("viajesApp").controller("MiPaqueteCtrl",["$filter","$location","$routeParams","$scope","HotelService","CiudadService","PaqueteService","UserService",function(a,b,c,d,e,f,g,h){function i(){h.isLoggedIn()?(d.currentUser=h.currentUser(),console.log(d.idPaquete),g.getPaquete(d.idPaquete).then(function(a){d.paquete=a,console.log(a)})):(console.log("aCCESO PROHUBIDO"),b.path("/busquedaAuto"))}d.hoteles=[],d.ciudades=[],d.ciudad={},d.idPaquete=c.idPaquete,d.paquete=null,d.currentUser={email:"",name:""},i()}]),angular.module("viajesApp").controller("MisPaquetesCtrl",["$filter","$location","$scope","HotelService","CiudadService","PaqueteService","UserService",function(a,b,c,d,e,f,g){function h(){g.isLoggedIn()?(c.currentUser=g.currentUser(),f.getMisPaquetes(c.currentUser.email).then(function(a){c.misPaquetes=a,console.log(a)})):(console.log("aCCESO PROHIBIDO"),b.path("/busquedaAuto"))}c.hoteles=[],c.paquetes={},c.ciudades=[],c.ciudad={},c.misPaquetes=[],c.currentUser={email:"",name:""},h(),c.verPaquete=function(a){g.isLoggedIn()?(console.log("Ir al paquete"),console.log(a),b.path("/miPaquete/"+a)):(console.log("aCCESO PROHIBIDO"),b.path("/busquedaAuto"))}}]),angular.module("viajesApp").controller("SigninCtrl",["$location","$scope","UserService",function(a,b,c){function d(){b.error=""}b.credentials={name:"",email:"",password:""},b.error="",d(),b.register=function(){b.signinForm.$valid&&c.register(b.credentials).then(function(c){c.error?(b.error=c.error,a.path("/signin")):a.path("/miCarrito")})}}]),angular.module("viajesApp").controller("MainCtrl",["$rootScope","$scope","UserService",function(a,b,c){function d(){b.isLoggedIn=c.isLoggedIn()}b.isLoggedIn=!1,b.currentUser={email:"",name:""},a.$on("updateNavigation",d),d(),b.pagarPaquete=function(){a.$emit("pagarPaquete")},b.isAdmin=function(){return c.isLoggedIn()?(b.currentUser=c.currentUser(),"admin@hotmail.com"===b.currentUser.email?!0:!1):!1}}]),angular.module("viajesApp").controller("UsuariosCtrl",["$location","$scope","UserService",function(a,b,c){function d(){b.usuarios=[],c.isLoggedIn()?(b.currentUser=c.currentUser(),"admin@hotmail.com"===b.currentUser.email?c.getUsers().then(function(a){for(var c=0;c<a.length;c++)"admin@hotmail.com"!==a[c].email&&b.usuarios.push(a[c]);console.log(a)}):(console.log("aCCESO PROHIBIDO"),a.path("/busquedaAuto"))):(console.log("aCCESO PROHIBIDO"),a.path("/busquedaAuto"))}b.usuarios=[],b.currentUser={email:"",name:""},d(),b.borrarUsuario=function(e){c.isLoggedIn()?(b.currentUser=c.currentUser(),"admin@hotmail.com"===b.currentUser.email?c.deleteUser(e).then(function(){d()}):(console.log("aCCESO PROHIBIDO"),a.path("/busquedaAuto"))):(console.log("aCCESO PROHIBIDO"),a.path("/busquedaAuto"))}}]),angular.module("viajesApp").service("AerolineaService",["$http","$q","Configuration",function(a,b,c){var d={},e={aerolineas:null};return d.reset=function(){e={aerolineas:null}},d.getAerolineas=function(){var d=b.defer();return e.aerolineas?d.resolve(e.aerolineas):a({method:"GET",url:c.getConfiguration().baseURL+"/aerolineas"}).then(function(a){e.aerolineas=a.data,d.resolve(a.data)})["catch"](function(a){d.reject(a)}),d.promise},d.getAerolinea=function(d){var e=b.defer();return a({method:"GET",url:c.getConfiguration().baseURL+"/aerolineas/"+d}).then(function(a){e.resolve(a.data)})["catch"](function(a){e.reject(a)}),e.promise},d}]),angular.module("viajesApp").service("AutoService",["$http","$q","Configuration",function(a,b,c){var d={},e={autos:null};return d.reset=function(){e={autos:null}},d.getAutos=function(d,f,g,h){var i=b.defer();return e.autos?i.resolve(e.autos):a({method:"GET",url:c.getConfiguration().baseURL+"/autos/"+d+"/"+f+"/"+g+"/"+h}).then(function(a){e.autos=a.data,i.resolve(a.data)})["catch"](function(a){i.reject(a)}),i.promise},d.getAuto=function(d){var e=b.defer();return a({method:"GET",url:c.getConfiguration().baseURL+"/autos/"+d}).then(function(a){e.resolve(a.data)})["catch"](function(a){e.reject(a)}),e.promise},d}]),angular.module("viajesApp").service("CiudadService",["$http","$q","Configuration",function(a,b,c){var d={},e={ciudades:null};return d.reset=function(){e={ciudades:null}},d.getCiudades=function(){var d=b.defer();return e.ciudades?d.resolve(e.ciudades):a({method:"GET",url:c.getConfiguration().baseURL+"/ciudades"}).then(function(a){e.ciudades=a.data,d.resolve(a.data)})["catch"](function(a){d.reject(a)}),d.promise},d.getCiudad=function(d){var e=b.defer();return a({method:"GET",url:c.getConfiguration().baseURL+"/ciudades/"+d}).then(function(a){e.resolve(a.data)})["catch"](function(a){e.reject(a)}),e.promise},d}]),angular.module("viajesApp").service("Configuration",[function(){var a={baseURL:"https://viajes-backend.herokuapp.com/api/v1"};this.getConfiguration=function(){return a}}]),angular.module("viajesApp").service("HotelService",["$http","$q","Configuration",function(a,b,c){var d={},e={hoteles:null};return d.reset=function(){e={hoteles:null}},d.getHoteles=function(d,f){var g=b.defer();return e.hoteles?g.resolve(e.hoteles):a({method:"GET",url:c.getConfiguration().baseURL+"/hoteles/"+d+"/"+f}).then(function(a){e.hoteles=a.data,g.resolve(a.data)})["catch"](function(a){g.reject(a)}),g.promise},d.getHotel=function(d){var e=b.defer();return a({method:"GET",url:c.getConfiguration().baseURL+"/hoteles/"+d}).then(function(a){e.resolve(a.data)})["catch"](function(a){e.reject(a)}),e.promise},d}]),angular.module("viajesApp").service("PaqueteService",["$http","$q","Configuration",function(a,b,c){var d={},e={paquete:null};return d.reset=function(){e={paquete:null}},d.getMisPaquetes=function(d){var e=b.defer();return a({method:"GET",url:c.getConfiguration().baseURL+"/paquetes/"+d}).then(function(a){e.resolve(a.data)})["catch"](function(a){e.reject(a)}),e.promise},d.getPaquetes=function(){var d=b.defer();return e.paquete?d.resolve(e.paquete):a({method:"GET",url:c.getConfiguration().baseURL+"/paquetes"}).then(function(a){e.paquete=a.data,d.resolve(a.data)})["catch"](function(a){d.reject(a)}),d.promise},d.getPaquete=function(d){console.log("En el servicio"),console.log(d);var e=b.defer();return a({method:"GET",url:c.getConfiguration().baseURL+"/paquetes/miPaquete/"+d}).then(function(a){e.resolve(a.data)})["catch"](function(a){e.reject(a)}),e.promise},d.nuevaReservaHotel=function(d,e,f,g,h){var i=b.defer(),j={idPaquete:d,hotel:e,monto:f,fechaIngreso:g,fechaSalida:h};return a({method:"POST",url:c.getConfiguration().baseURL+"/paquetes/ReservaHotel",data:j}).then(function(a){i.resolve(a)})["catch"](function(a){i.reject(a)}),i.promise},d.nuevaReservaVuelo=function(d,e,f){var g=b.defer(),h={idPaquete:d,vuelo:e,monto:f};return a({method:"POST",url:c.getConfiguration().baseURL+"/paquetes/ReservaVuelo",data:h}).then(function(a){g.resolve(a)})["catch"](function(a){g.reject(a)}),g.promise},d.nuevaReservaAuto=function(d,e,f,g,h,i,j){var k=b.defer(),l={idPaquete:d,auto:e,monto:f,lugarRetiro:g,lugarDevolucion:h,fechaRetiro:i,fechaDevolucion:j};return a({method:"POST",url:c.getConfiguration().baseURL+"/paquetes/ReservaAuto",data:l}).then(function(a){k.resolve(a)})["catch"](function(a){k.reject(a)}),k.promise},d.pagarPaquete=function(d,e){var f=b.defer();return a({method:"PUT",url:c.getConfiguration().baseURL+"/paquetes/pagar/"+d+"/"+e,data:{}}).then(function(a){f.resolve(a)})["catch"](function(a){f.reject(a)}),f.promise},d.getPaqueteActual=function(d){var e=b.defer();return a({method:"GET",url:c.getConfiguration().baseURL+"/paquetes/habilitado/"+d}).then(function(a){e.resolve(a.data)})["catch"](function(a){e.reject(a)}),e.promise},d.quitarVueloDelPaquete=function(d,e){var f=b.defer();return a({method:"DELETE",url:c.getConfiguration().baseURL+"/paquetes/quitarVuelo/"+d+"/"+e}).then(function(a){f.resolve(a.data)})["catch"](function(a){f.reject(a)}),f.promise},d.quitarHotelDelPaquete=function(d,e){var f=b.defer();return a({method:"DELETE",url:c.getConfiguration().baseURL+"/paquetes/quitarHotel/"+d+"/"+e}).then(function(a){f.resolve(a.data)})["catch"](function(a){f.reject(a)}),f.promise},d.quitarAutoDelPaquete=function(d,e){var f=b.defer();return a({method:"DELETE",url:c.getConfiguration().baseURL+"/paquetes/quitarAuto/"+d+"/"+e}).then(function(a){f.resolve(a.data)})["catch"](function(a){f.reject(a)}),f.promise},d}]),angular.module("viajesApp").service("UserService",["$http","$q","$rootScope","$window","Configuration",function(a,b,c,d,e){function f(a){d.localStorage["mean-token"]=a}function g(){return d.localStorage["mean-token"]}var h={};return h.isLoggedIn=function(){var a,b=g();return b?(a=b.split(".")[1],a=d.atob(a),a=JSON.parse(a),a.exp>Date.now()/1e3):!1},h.currentUser=function(){if(h.isLoggedIn()){var a=g(),b=a.split(".")[1];return b=d.atob(b),b=JSON.parse(b),{email:b.email,name:b.name}}},h.register=function(d){var g=b.defer();return a({method:"POST",url:e.getConfiguration().baseURL+"/register",data:d}).then(function(a){a.data.token&&(console.log("Se setea token"),f(a.data.token),c.$broadcast("updateNavigation")),g.resolve(a.data)})["catch"](function(a){g.reject(a)}),g.promise},h.getUsers=function(){var c=b.defer();return a({method:"GET",url:e.getConfiguration().baseURL+"/users"}).then(function(a){c.resolve(a.data)})["catch"](function(a){c.reject(a)}),c.promise},h.deleteUser=function(c){console.log("Se borrara el usuario");var d=b.defer();return a({method:"DELETE",url:e.getConfiguration().baseURL+"/users/"+c}).then(function(a){d.resolve(a.data)})["catch"](function(a){d.reject(a)}),d.promise},h.login=function(d){var g=b.defer();return a({method:"POST",url:e.getConfiguration().baseURL+"/users",data:d}).then(function(a){f(a.data.token),c.$broadcast("updateNavigation"),g.resolve(a.data)})["catch"](function(a){g.reject(a)}),g.promise},h.logout=function(){d.localStorage.removeItem("mean-token"),c.$broadcast("updateNavigation")},h.getProfile=function(){return a.get("/api/profile",{headers:{Authorization:"Bearer "+g()}})},h}]),angular.module("viajesApp").service("VueloService",["$http","$q","Configuration",function(a,b,c){var d={},e={vuelos:null};return d.reset=function(){e={vuelos:null}},d.getVuelos=function(d,f,g,h){var i=b.defer();return e.vuelos?i.resolve(e.vuelos):a({method:"GET",url:c.getConfiguration().baseURL+"/vuelos/"+g+"/"+d+"/"+f+"/"+h}).then(function(a){e.vuelos=a.data,i.resolve(a.data)})["catch"](function(a){i.reject(a)}),i.promise},d.getVuelo=function(d){var e=b.defer();return a({method:"GET",url:c.getConfiguration().baseURL+"/vuelos/"+d}).then(function(a){e.resolve(a.data)})["catch"](function(a){e.reject(a)}),e.promise},d}]),angular.module("viajesApp").run(["$templateCache",function(a){a.put("views/busquedaAuto.html",'<div class="two-button-headers-container font"> <div class="button-header" ng-click="irBusquedaVuelo()"> <span class="glyphicon glyphicon-chevron-left"></span><p>Buscar Vuelos</p> </div> <div class="button-header" ng-click="irBusquedaHoteles()"> <p>Buscar Hoteles</p><span class="glyphicon glyphicon-chevron-right"></span> </div> </div> <div class="panel panel-info"> <div class="panel-heading"> <div class="panel-title">Búsqueda de vehículos</div> </div> <div class="panel-body"> <form class="search-form" name="busquedaAutoForm" novalidate> <div class="row"> <div class="col-xs-6"> <div class="form-group" ng-class="{\'has-error\':busquedaAutoForm.lugarRetiro.$invalid && busquedaAutoForm.$submitted}"> <label for="lugarRetiro" class="control-label">Lugar de Retiro *</label> <ui-select allow-clear name="lugarRetiro" ng-model="busqueda.lugarRetiro" theme="bootstrap" required> <ui-select-match placeholder="Selecciona una ciudad">{{$select.selected.nombre}} {{$select.selected.pais}}</ui-select-match> <ui-select-choices repeat="item in ciudades | filter: $select.search"> {{item.nombre}}, {{item.pais}} </ui-select-choices> </ui-select> <p ng-show="busquedaAutoForm.lugarRetiro.$invalid && busquedaAutoForm.$submitted" class="help-block">Debe indicar el lugar de retiro del vehículo.</p> </div> </div> <div class="col-xs-6"> <div class="form-group" ng-class="{\'has-error\':busquedaAutoForm.lugarDevolucion.$invalid && busquedaAutoForm.$submitted}"> <label for="lugarDevolucion" class="control-label">Lugar de Devolución *</label> <ui-select allow-clear name="lugarDevolucion" ng-model="busqueda.lugarDevolucion" theme="bootstrap" required> <ui-select-match placeholder="Selecciona una ciudad">{{$select.selected.nombre}} {{$select.selected.pais}}</ui-select-match> <ui-select-choices repeat="item in ciudades | filter: $select.search"> {{item.nombre}}, {{item.pais}} </ui-select-choices> </ui-select> <p ng-show="busquedaAutoForm.lugarDevolucion.$invalid && busquedaAutoForm.$submitted" class="help-block">Debe indicar el lugar de devolución del vehículo.</p> </div> </div> </div> <div class="row"> <div class="col-xs-6"> <div class="form-group" ng-class="{\'has-error\':(busquedaAutoForm.fechaRetiro.$invalid && busquedaAutoForm.$submitted) || errorMessage}"> <label for="fechaRetiro"> Fecha de Retiro *</label> <input type="date" class="form-control" name="fechaRetiro" min="{{currentDate | date: \'yyyy-MM-dd\'}}" ng-model="busqueda.fechaRetiro" required> <p ng-show="busquedaAutoForm.fechaRetiro.$invalid && busquedaAutoForm.$submitted" class="help-block">Debe indicar la fecha de retiro del vehículo, la cual debe ser superior al día de hoy.</p> <p ng-show="errorMessage" class="help-block">La fecha de retiro del vehículo debe ser anterior a la fecha de devolución.</p> </div> </div> <div class="col-xs-6"> <div class="form-group" ng-class="{\'has-error\':(busquedaAutoForm.fechaDevolucion.$invalid && busquedaAutoForm.$submitted) || errorMessage}"> <label for="fechaDevolucion"> Fecha de Devolución *</label> <input type="date" class="form-control" name="fechaDevolucion" min="{{currentDate | date: \'yyyy-MM-dd\'}}" ng-model="busqueda.fechaDevolucion" required> <p ng-show="busquedaAutoForm.fechaDevolucion.$invalid && busquedaAutoForm.$submitted" class="help-block">Debe indicar la fecha de devolución del vehículo, la cual debe ser superior al día de hoy.</p> <p ng-show="errorMessage" class="help-block">La fecha de devolución del vehículo debe ser mayor a la fecha de retiro.</p> </div> </div> </div> <div class="row"> <div class="col-xs-6"> <div> <button type="submit" class="btn btn-info btn-form" ng-click="buscar()"> Buscar </button> </div> </div> </div> </form> </div> </div> <div class="resultado-container"> <h4 class="font" style="margin-bottom: 30px" ng-show="resultadoBusqueda.length > 0"> Resultados ({{resultadoBusqueda.length}})</h4> <h4 class="bold" style="text-align: center" ng-show="enBusqueda && (resultadoBusqueda.length === 0)"> No se han encontrado vehiculos para las fechas ingresadas.</h4> <div class="row resultado-single" ng-repeat="auto in resultadoBusqueda"> <div class="thumbnail col-xs-3"> <img class="img-rounded" ng-src="{{auto.url}}" alt="Image not found"> </div> <div class="col-xs-6"> <h4 class="bold">{{auto.marca}} {{auto.modelo}}</h4> <div>{{auto.agencia.nombre}}</div> </div> <div class="col-xs-3 align-center"> <div class="precio-container"> <div>Por sólo</div> <div class="precio-font">{{auto.monto | currency:\'$\':2}}</div> <div> por día</div> </div> <button class="btn btn-info btn-form" ng-click="agregarAlCarrito(auto)" ng-show="!auto.enCarrito"> Agregar al Carrito </button> <p class="bold" ng-show="auto.enCarrito">Ha sido reservado!</p> </div> <hr> </div> </div>'),a.put("views/busquedaAutoSinUser.html",'<div class="two-button-headers-container font"> <div class="button-header" ng-click="irBusquedaVuelo()"> <span class="glyphicon glyphicon-chevron-left"></span><p>Buscar Vuelos</p> </div> <div class="button-header" ng-click="irBusquedaHoteles()"> <p>Buscar Hoteles</p><span class="glyphicon glyphicon-chevron-right"></span> </div> </div> <div class="panel panel-info"> <div class="panel-heading"> <div class="panel-title">Búsqueda de vehículos</div> </div> <div class="panel-body"> <form class="search-form" name="busquedaAutoForm" novalidate> <div class="row"> <div class="col-xs-6"> <div class="form-group" ng-class="{\'has-error\':busquedaAutoForm.lugarRetiro.$invalid && busquedaAutoForm.$submitted}"> <label for="lugarRetiro" class="control-label">Lugar de Retiro *</label> <ui-select allow-clear name="lugarRetiro" ng-model="busqueda.lugarRetiro" theme="bootstrap" required> <ui-select-match placeholder="Selecciona una ciudad">{{$select.selected.nombre}} {{$select.selected.pais}}</ui-select-match> <ui-select-choices repeat="item in ciudades | filter: $select.search"> {{item.nombre}}, {{item.pais}} </ui-select-choices> </ui-select> <p ng-show="busquedaAutoForm.lugarRetiro.$invalid && busquedaAutoForm.$submitted" class="help-block">Debe indicar el lugar de retiro del vehículo.</p> </div> </div> <div class="col-xs-6"> <div class="form-group" ng-class="{\'has-error\':busquedaAutoForm.lugarDevolucion.$invalid && busquedaAutoForm.$submitted}"> <label for="lugarDevolucion" class="control-label">Lugar de Devolución *</label> <ui-select allow-clear name="lugarDevolucion" ng-model="busqueda.lugarDevolucion" theme="bootstrap" required> <ui-select-match placeholder="Selecciona una ciudad">{{$select.selected.nombre}} {{$select.selected.pais}}</ui-select-match> <ui-select-choices repeat="item in ciudades | filter: $select.search"> {{item.nombre}}, {{item.pais}} </ui-select-choices> </ui-select> <p ng-show="busquedaAutoForm.lugarDevolucion.$invalid && busquedaAutoForm.$submitted" class="help-block">Debe indicar el lugar de devolución del vehículo.</p> </div> </div> </div> <div class="row"> <div class="col-xs-6"> <div class="form-group" ng-class="{\'has-error\':(busquedaAutoForm.fechaRetiro.$invalid && busquedaAutoForm.$submitted) || errorMessage}"> <label for="fechaRetiro"> Fecha de Retiro *</label> <input type="date" class="form-control" name="fechaRetiro" min="{{currentDate | date: \'yyyy-MM-dd\'}}" ng-model="busqueda.fechaRetiro" required> <p ng-show="busquedaAutoForm.fechaRetiro.$invalid && busquedaAutoForm.$submitted" class="help-block">Debe indicar la fecha de retiro del vehículo, la cual debe ser superior al día de hoy.</p> <p ng-show="errorMessage" class="help-block">La fecha de retiro del vehículo debe ser anterior o igual a la fecha de devolución.</p> </div> </div> <div class="col-xs-6"> <div class="form-group" ng-class="{\'has-error\':(busquedaAutoForm.fechaDevolucion.$invalid && busquedaAutoForm.$submitted) || errorMessage}"> <label for="fechaDevolucion"> Fecha de Devolución *</label> <input type="date" class="form-control" name="fechaDevolucion" min="{{currentDate | date: \'yyyy-MM-dd\'}}" ng-model="busqueda.fechaDevolucion" required> <p ng-show="busquedaAutoForm.fechaDevolucion.$invalid && busquedaAutoForm.$submitted" class="help-block">Debe indicar la fecha de devolución del vehículo, la cual debe ser superior al día de hoy.</p> <p ng-show="errorMessage" class="help-block">La fecha de devolución del vehículo debe ser mayor o igual a la fecha de retiro.</p> </div> </div> </div> <div class="row"> <div class="col-xs-6"> <div> <button type="submit" class="btn btn-info btn-form" ng-click="buscar()"> Buscar </button> </div> </div> </div> </form> </div> </div> <div class="resultado-container"> <h4 class="font" style="margin-bottom: 30px" ng-show="resultadoBusqueda.length > 0"> Resultados ({{resultadoBusqueda.length}})</h4> <h4 class="bold" style="text-align: center" ng-show="enBusqueda && (resultadoBusqueda.length === 0)"> No se han encontrado vehiculos para las fechas ingresadas.</h4> <div class="row resultado-single" ng-repeat="auto in resultadoBusqueda"> <div class="thumbnail col-xs-3"> <img class="img-rounded" ng-src="{{auto.url}}" alt="Image not found"> </div> <div class="col-xs-6"> <h4 class="bold">{{auto.marca}} {{auto.modelo}}</h4> <div>{{auto.agencia.nombre}}</div> </div> <div class="col-xs-3 align-center"> <div class="precio-container"> <div>Por sólo</div> <div class="precio-font">${{auto.monto}}</div> <div> por día</div> </div> </div> <hr> </div> </div>'),
a.put("views/busquedaHotel.html",'<div class="two-button-headers-container font"> <div class="button-header" ng-click="irBusquedaAuto()"> <span class="glyphicon glyphicon-chevron-left"></span><p>Buscar Vehículos</p> </div> <div class="button-header" ng-click="irBusquedaVuelo()"> <p>Buscar Vuelos</p><span class="glyphicon glyphicon-chevron-right"></span> </div> </div> <div class="panel panel-info"> <div class="panel-heading"> <div class="panel-title">Búsqueda de hoteles</div> </div> <div class="panel-body"> <form class="search-form" name="busquedaHotelForm" novalidate> <div class="row"> <div class="col-xs-6"> <div class="form-group" ng-class="{\'has-error\':busquedaHotelForm.destino.$invalid && busquedaHotelForm.$submitted}"> <label for="destino" class="control-label">Destino *</label> <ui-select allow-clear name="destino" ng-model="busqueda.destino" theme="bootstrap" required> <ui-select-match placeholder="Selecciona una ciudad">{{$select.selected.nombre}} {{$select.selected.pais}}</ui-select-match> <ui-select-choices repeat="item in ciudades | filter: $select.search"> {{item.nombre}}, {{item.pais}} </ui-select-choices> </ui-select> <p ng-show="busquedaHotelForm.destino.$invalid && busquedaHotelForm.$submitted" class="help-block">Debe indicar el destino.</p> </div> </div> <div class="col-xs-6"> <div class="form-group" ng-class="{\'has-error\':busquedaHotelForm.estrellas.$invalid && busquedaHotelForm.$submitted}"> <label for="estrellas"> Estrellas</label> <select class="form-control" name="estrellas" ng-model="busqueda.estrellas" ng-options="option.name for option in opcionEstrellas"> </select> </div> </div> </div> <div class="row"> <div class="col-xs-6"> <div class="form-group" ng-class="{\'has-error\':(busquedaHotelForm.fechaIngreso.$invalid && busquedaHotelForm.$submitted) || errorMessage}"> <label for="fechaIngreso"> Fecha Ingreso *</label> <input type="date" class="form-control" name="fechaIngreso" min="{{currentDate | date: \'yyyy-MM-dd\'}}" ng-model="busqueda.fechaIngreso" required> <p ng-show="busquedaHotelForm.fechaIngreso.$invalid && busquedaHotelForm.$submitted" class="help-block">Debe indicar la fecha de ingreso al hotel, la cual debe ser superior al día de hoy.</p> <p ng-show="errorMessage" class="help-block">La fecha de ingreso debe ser anterior a la fecha de salida.</p> </div> </div> <div class="col-xs-6"> <div class="form-group" ng-class="{\'has-error\':(busquedaHotelForm.fechaSalida.$invalid && busquedaHotelForm.$submitted) || errorMessage}"> <label for="fechaSalida"> Fecha Salida *</label> <input type="date" class="form-control" name="fechaSalida" min="{{currentDate | date: \'yyyy-MM-dd\'}}" ng-model="busqueda.fechaSalida" required> <p ng-show="busquedaHotelForm.fechaSalida.$invalid && busquedaHotelForm.$submitted" class="help-block">Debe indicar la fecha de salida del hotel, la cual debe ser superior al día de hoy.</p> <p ng-show="errorMessage" class="help-block">La fecha de salida debe ser mayor a la fecha de salida.</p> </div> </div> </div> <div class="row"> <div class="col-xs-6"> <div> <button type="submit" class="btn btn-info btn-form" ng-click="buscar()"> Buscar </button> </div> </div> </div> </form> </div> </div> <div class="resultado-container"> <h4 class="font" style="margin-bottom: 30px" ng-show="resultadoBusqueda.length > 0"> Resultados ({{resultadoBusqueda.length}})</h4> <h4 class="bold" style="text-align: center" ng-show="enBusqueda && (resultadoBusqueda.length === 0)"> No se han encontrado hoteles para las fechas ingresadas.</h4> <div class="row resultado-single" ng-repeat="hotel in resultadoBusqueda"> <div class="thumbnail col-xs-3"> <img class="img-rounded" ng-src="{{hotel.url}}" alt="Image not found"> </div> <div class="col-xs-6"> <h4 class="bold">{{hotel.nombre}}</h4> <div>{{hotel.direccion}}</div> <div>{{hotel.estrellas}} Estrellas</div> <p class="disponibilidad"> Quedan disponibles {{hotel.cantidadHabitacionesDisponibles}} de {{hotel.cantidadHabitaciones}} habitaciones</p> </div> <div class="col-xs-3 align-center"> <div class="precio-container"> <div>Por sólo</div> <div class="precio-font">{{hotel.monto | currency:\'$\':2}}</div> <div> por noche</div> </div> <button class="btn btn-info btn-form" ng-click="agregarAlCarrito(hotel)" ng-show="!hotel.enCarrito"> Agregar al Carrito </button> <p class="bold" ng-show="hotel.enCarrito">Ha sido reservado!</p> </div> <hr> </div> </div>'),a.put("views/busquedaHotelSinUser.html",'<div class="two-button-headers-container font"> <div class="button-header" ng-click="irBusquedaAuto()"> <span class="glyphicon glyphicon-chevron-left"></span><p>Buscar Vehículos</p> </div> <div class="button-header" ng-click="irBusquedaVuelo()"> <p>Buscar Vuelos</p><span class="glyphicon glyphicon-chevron-right"></span> </div> </div> <div class="panel panel-info"> <div class="panel-heading"> <div class="panel-title">Búsqueda de hoteles</div> </div> <div class="panel-body"> <form class="search-form" name="busquedaHotelForm" novalidate> <div class="row"> <div class="col-xs-6"> <div class="form-group" ng-class="{\'has-error\':busquedaHotelForm.destino.$invalid && busquedaHotelForm.$submitted}"> <label for="destino" class="control-label">Destino *</label> <ui-select allow-clear name="destino" ng-model="busqueda.destino" theme="bootstrap" required> <ui-select-match placeholder="Selecciona una ciudad">{{$select.selected.nombre}} {{$select.selected.pais}}</ui-select-match> <ui-select-choices repeat="item in ciudades | filter: $select.search"> {{item.nombre}}, {{item.pais}} </ui-select-choices> </ui-select> <p ng-show="busquedaHotelForm.destino.$invalid && busquedaHotelForm.$submitted" class="help-block">Debe indicar el destino.</p> </div> </div> <div class="col-xs-6"> <div class="form-group" ng-class="{\'has-error\':busquedaHotelForm.estrellas.$invalid && busquedaHotelForm.$submitted}"> <label for="estrellas"> Estrellas</label> <select class="form-control" name="estrellas" ng-model="busqueda.estrellas" ng-options="option.name for option in opcionEstrellas"> </select> </div> </div> </div> <div class="row"> <div class="col-xs-6"> <div class="form-group" ng-class="{\'has-error\':(busquedaHotelForm.fechaIngreso.$invalid && busquedaHotelForm.$submitted) || errorMessage}"> <label for="fechaIngreso"> Fecha Ingreso *</label> <input type="date" class="form-control" name="fechaIngreso" min="{{currentDate | date: \'yyyy-MM-dd\'}}" ng-model="busqueda.fechaIngreso" required> <p ng-show="busquedaHotelForm.fechaIngreso.$invalid && busquedaHotelForm.$submitted" class="help-block">Debe indicar la fecha de ingreso al hotel, la cual debe ser superior al día de hoy.</p> <p ng-show="errorMessage" class="help-block">La fecha de ingreso debe ser anterior a la fecha de salida.</p> </div> </div> <div class="col-xs-6"> <div class="form-group" ng-class="{\'has-error\':(busquedaHotelForm.fechaSalida.$invalid && busquedaHotelForm.$submitted) || errorMessage}"> <label for="fechaSalida"> Fecha Salida *</label> <input type="date" class="form-control" name="fechaSalida" min="{{currentDate | date: \'yyyy-MM-dd\'}}" ng-model="busqueda.fechaSalida" required> <p ng-show="busquedaHotelForm.fechaSalida.$invalid && busquedaHotelForm.$submitted" class="help-block">Debe indicar la fecha de salida del hotel, la cual debe ser superior al día de hoy.</p> <p ng-show="errorMessage" class="help-block">La fecha de salida debe ser mayor a la fecha de salida.</p> </div> </div> </div> <div class="row"> <div class="col-xs-6"> <div> <button type="submit" class="btn btn-info btn-form" ng-click="buscar()"> Buscar </button> </div> </div> </div> </form> </div> </div> <div class="resultado-container"> <h4 class="font" style="margin-bottom: 30px" ng-show="resultadoBusqueda.length > 0"> Resultados ({{resultadoBusqueda.length}})</h4> <h4 class="bold" style="text-align: center" ng-show="enBusqueda && (resultadoBusqueda.length === 0)"> No se han encontrado hoteles para las fechas ingresadas.</h4> <div class="row resultado-single" ng-repeat="hotel in resultadoBusqueda"> <div class="thumbnail col-xs-3"> <img class="img-rounded" ng-src="{{hotel.url}}" alt="Image not found"> </div> <div class="col-xs-6"> <h4 class="bold">{{hotel.nombre}}</h4> <div>{{hotel.direccion}}</div> <div>{{hotel.estrellas}} Estrellas</div> <p class="disponibilidad"> Quedan disponibles {{hotel.cantidadHabitacionesDisponibles}} de {{hotel.cantidadHabitaciones}} habitaciones</p> </div> <div class="col-xs-3 align-center"> <div class="precio-container"> <div>Por sólo</div> <div class="precio-font">{{hotel.monto | currency:\'$\':2}}</div> <div> por noche</div> </div> </div> <hr> </div> </div>'),a.put("views/busquedaVuelo.html",'<div class="two-button-headers-container font"> <div class="button-header" ng-click="irBusquedaHotel()"> <span class="glyphicon glyphicon-chevron-left"></span><p>Buscar Hoteles</p> </div> <div class="button-header" ng-click="irBusquedaAuto()"> <p>Buscar Vehículos</p><span class="glyphicon glyphicon-chevron-right"></span> </div> </div> <div class="panel panel-info"> <div class="panel-heading"> <div class="panel-title">Búsqueda de vuelos</div> </div> <div class="panel-body"> <form class="search-form" name="busquedaVueloForm" novalidate> <div class="row"> <div class="col-xs-6"> <div class="form-group" ng-class="{\'has-error\':busquedaVueloForm.origen.$invalid && busquedaVueloForm.$submitted}"> <label for="origen" class="control-label">Origen *</label> <ui-select allow-clear name="origen" ng-model="busqueda.origen" theme="bootstrap" required> <ui-select-match placeholder="Selecciona una ciudad">{{$select.selected.nombre}} {{$select.selected.pais}}</ui-select-match> <ui-select-choices repeat="item in ciudades | filter: $select.search"> {{item.nombre}}, {{item.pais}} </ui-select-choices> </ui-select> <p ng-show="busquedaVueloForm.origen.$invalid && busquedaVueloForm.$submitted" class="help-block">Debe indicar el lugar de origen.</p> </div> </div> <div class="col-xs-6"> <div class="form-group" ng-class="{\'has-error\':busquedaVueloForm.destino.$invalid && busquedaVueloForm.$submitted}"> <label for="destino" class="control-label">Destino *</label> <ui-select allow-clear name="destino" ng-model="busqueda.destino" theme="bootstrap" required> <ui-select-match placeholder="Selecciona una ciudad">{{$select.selected.nombre}} {{$select.selected.pais}}</ui-select-match> <ui-select-choices repeat="item in ciudades | filter: $select.search"> {{item.nombre}}, {{item.pais}} </ui-select-choices> </ui-select> <p ng-show="busquedaVueloForm.destino.$invalid && busquedaVueloForm.$submitted" class="help-block">Debe indicar el lugar de destino.</p> </div> </div> <div class="col-xs-6"> <div class="form-group" ng-class="{\'has-error\':busquedaVueloForm.fecha.$invalid && busquedaVueloForm.$submitted}"> <label for="fecha"> Fecha de Vuelo *</label> <input type="date" class="form-control" name="fecha" min="{{currentDate | date: \'yyyy-MM-dd\'}}" ng-model="busqueda.fecha" required> <p ng-show="busquedaVueloForm.fecha.$invalid && busquedaVueloForm.$submitted" class="help-block">Debe indicar la fecha de vuelo, la cual debe ser superior al día de hoy.</p> </div> </div> <div class="col-xs-6"> <div class="form-group" ng-class="{\'has-error\':busquedaVueloForm.aerolinea.$invalid && busquedaVueloForm.$submitted}"> <label for="aerolinea" class="control-label">Aerolinea</label> <ui-select allow-clear name="aerolinea" ng-model="busqueda.aerolinea" theme="bootstrap"> <ui-select-match placeholder="Selecciona una aerolinea">{{$select.selected.name}} </ui-select-match> <ui-select-choices repeat="item in aerolineas | filter: $select.search"> {{item.name}} </ui-select-choices> </ui-select> </div> </div> </div> <div class="row"> <div class="col-xs-6"> <div> <button type="submit" class="btn btn-info btn-form" ng-click="buscar()"> Buscar </button> </div> </div> </div> </form> </div> </div> <div class="resultado-container"> <h4 class="font" style="margin-bottom: 30px" ng-show="resultadoBusqueda.length > 0"> Resultados ({{resultadoBusqueda.length}})</h4> <h4 class="bold" style="text-align: center" ng-show="enBusqueda && (resultadoBusqueda.length === 0)"> No se han encontrado vuelos para la fecha ingresada.</h4> <div class="row resultado-single" ng-repeat="vuelo in resultadoBusqueda"> <div class="thumbnail col-xs-3"> <img class="img-rounded" ng-src="{{vuelo.aerolinea.url}}" alt="Image not found"> </div> <div class="col-xs-6"> <h5><span class="bold">Salida:</span> {{vuelo.fechaSalida| date:\'medium\'}} - {{vuelo.ciudadOrigen.nombre}}</h5> <h5><span class="bold">Llegada:</span> {{vuelo.fechaLlegada| date:\'medium\'}} - {{vuelo.ciudadDestino.nombre}}</h5> <div>{{vuelo.aerolinea.name}}</div> <p class="disponibilidad"> Quedan disponibles {{vuelo.cantPasajerosDisp}} de {{vuelo.cantPasajeros}} asientos</p> </div> <div class="col-xs-3 align-center"> <div class="precio-container"> <div>Por sólo</div> <div class="precio-font">{{vuelo.precio | currency:\'$\':2}}</div> </div> <button class="btn btn-info btn-form" ng-click="agregarAlCarrito(vuelo)" ng-show="!vuelo.enCarrito"> Agregar al Carrito </button> <p class="bold" ng-show="vuelo.enCarrito">Ha sido reservado!</p> </div> <hr> </div> </div>'),a.put("views/busquedaVueloSinUser.html",'<div class="two-button-headers-container font"> <div class="button-header" ng-click="irBusquedaHotel()"> <span class="glyphicon glyphicon-chevron-left"></span><p>Buscar Hoteles</p> </div> <div class="button-header" ng-click="irBusquedaAuto()"> <p>Buscar Vehículos</p><span class="glyphicon glyphicon-chevron-right"></span> </div> </div> <div class="panel panel-info"> <div class="panel-heading"> <div class="panel-title">Búsqueda de vuelos</div> </div> <div class="panel-body"> <form class="search-form" name="busquedaVueloForm" novalidate> <div class="row"> <div class="col-xs-6"> <div class="form-group" ng-class="{\'has-error\':busquedaVueloForm.origen.$invalid && busquedaVueloForm.$submitted}"> <label for="origen" class="control-label">Origen *</label> <ui-select allow-clear name="origen" ng-model="busqueda.origen" theme="bootstrap" required> <ui-select-match placeholder="Selecciona una ciudad">{{$select.selected.nombre}} {{$select.selected.pais}}</ui-select-match> <ui-select-choices repeat="item in ciudades | filter: $select.search"> {{item.nombre}}, {{item.pais}} </ui-select-choices> </ui-select> <p ng-show="busquedaVueloForm.origen.$invalid && busquedaVueloForm.$submitted" class="help-block">Debe indicar el lugar de origen.</p> </div> </div> <div class="col-xs-6"> <div class="form-group" ng-class="{\'has-error\':busquedaVueloForm.destino.$invalid && busquedaVueloForm.$submitted}"> <label for="destino" class="control-label">Destino *</label> <ui-select allow-clear name="destino" ng-model="busqueda.destino" theme="bootstrap" required> <ui-select-match placeholder="Selecciona una ciudad">{{$select.selected.nombre}} {{$select.selected.pais}}</ui-select-match> <ui-select-choices repeat="item in ciudades | filter: $select.search"> {{item.nombre}}, {{item.pais}} </ui-select-choices> </ui-select> <p ng-show="busquedaVueloForm.destino.$invalid && busquedaVueloForm.$submitted" class="help-block">Debe indicar el lugar de destino.</p> </div> </div> <div class="col-xs-6"> <div class="form-group" ng-class="{\'has-error\':busquedaVueloForm.fecha.$invalid && busquedaVueloForm.$submitted}"> <label for="fecha"> Fecha de Vuelo *</label> <input type="date" class="form-control" name="fecha" min="{{currentDate | date: \'yyyy-MM-dd\'}}" ng-model="busqueda.fecha" required> <p ng-show="busquedaVueloForm.fecha.$invalid && busquedaVueloForm.$submitted" class="help-block">Debe indicar la fecha de vuelo, la cual debe ser superior al día de hoy.</p> </div> </div> <div class="col-xs-6"> <div class="form-group" ng-class="{\'has-error\':busquedaVueloForm.aerolinea.$invalid && busquedaVueloForm.$submitted}"> <label for="aerolinea" class="control-label">Aerolinea</label> <ui-select allow-clear name="aerolinea" ng-model="busqueda.aerolinea" theme="bootstrap"> <ui-select-match placeholder="Selecciona una aerolinea">{{$select.selected.name}} </ui-select-match> <ui-select-choices repeat="item in aerolineas | filter: $select.search"> {{item.name}} </ui-select-choices> </ui-select> </div> </div> </div> <div class="row"> <div class="col-xs-6"> <div> <button type="submit" class="btn btn-info btn-form" ng-click="buscar()"> Buscar </button> </div> </div> </div> </form> </div> </div> <div class="resultado-container"> <h4 class="font" style="margin-bottom: 30px" ng-show="resultadoBusqueda.length > 0"> Resultados ({{resultadoBusqueda.length}})</h4> <h4 class="bold" style="text-align: center" ng-show="enBusqueda && (resultadoBusqueda.length === 0)"> No se han encontrado vuelos para la fecha ingresada.</h4> <div class="row resultado-single" ng-repeat="vuelo in resultadoBusqueda"> <div class="thumbnail col-xs-3"> <img class="img-rounded" ng-src="{{vuelo.aerolinea.url}}" alt="Image not found"> </div> <div class="col-xs-6"> <h4><span class="bold">Salida:</span> {{vuelo.fechaSalida| date:\'medium\'}} - {{vuelo.ciudadOrigen.nombre}}</h4> <h4><span class="bold">Llegada:</span> {{vuelo.fechaLlegada| date:\'medium\'}} - {{vuelo.ciudadDestino.nombre}}</h4> <div>{{vuelo.aerolinea.name}}</div> <p class="disponibilidad"> Quedan disponibles {{vuelo.cantPasajerosDisp}} de {{vuelo.cantPasajeros}} asientos</p> </div> <div class="col-xs-3 align-center"> <div class="precio-container"> <div>Por sólo</div> <div class="precio-font">{{vuelo.precio | currency:\'$\':2}}</div> </div> </div> <hr> </div> </div>'),a.put("views/home.html",'<div class="font"> <h4 class="align-center"> Comienza a armar tu paquete hoy!</h4> </div> <div> <div style="width: 300px; margin:auto"> <hr> <button style="margin-left:75px" type="submit" class="btn btn-info btn-form" ng-click="buscarVuelos()"> Buscar Vuelos</button> <hr> <button style="margin-left:75px" type="submit" class="btn btn-info btn-form" ng-click="buscarAutos()"> Buscar Vehículos</button> <hr> <button style="margin-left:75px" type="submit" class="btn btn-info btn-form" ng-click="buscarHoteles()"> Buscar Hoteles</button> <hr> </div> </div>'),a.put("views/login.html",'<h3 class="align-center font"> Iniciar Sesión </h3> <div> <p class="align-center help-block">{{error}}</p> <form class="align-center one-row-form" name="loginForm" novalidate> <div class="row font"> <div class="col-xs-12"> <div class="form-group" ng-class="{\'has-error\':loginForm.username.$invalid && loginForm.$submitted}"> <label for="username"> Nombre de usuario *</label> <input type="text" class="form-control" name="username" ng-model="credentials.email" required> <p ng-show="loginForm.username.$invalid && loginForm.$submitted" class="help-block">El nombre de usuario es requerido.</p> </div> <div class="form-group" ng-class="{\'has-error\':loginForm.password.$invalid && loginForm.$submitted}"> <label for="password"> Contraseña *</label> <input type="password" class="form-control" name="password" ng-model="credentials.password" required> <p ng-show="loginForm.password.$invalid && loginForm.$submitted" class="help-block">La contraseña es requerida</p> </div> <input type="checkbox" name="rememberMe" value="rememberMe" checked> Recordarme <div> <button style="margin-bottom: 20px;margin-top: 10px" type="submit" class="btn btn-info btn-form" ng-click="login()"> Iniciar Sesión </button> <button type="button" class="btn btn-default btn-form" ng-click="signin()"> Registrarme </button> </div> </div> </div> </form> </div>'),a.put("views/miCarrito.html",'<div ng-show="!pagoExitoso"> <div ng-show="paquete.reservaVuelo.length > 0 || paquete.reservaHotel.length > 0 || paquete.reservaAuto.length > 0"> <div ng-show="!editNombrePaquete" style="display: flex;justify-content: center"> <h3 class="font" style="text-align: center">{{nombrePaquete}}</h3> <h3 class="glyphicon glyphicon-edit" style="color:#46b8da;margin-left:10px" ng-click="editarNombrePaquete()"></h3> </div> <div ng-show="editNombrePaquete" style="display: flex;justify-content: center"> <input type="text" style="width: 150px;margin-top:5px" class="form-control" name="nombrePaquete" ng-model="nombrePaquete" required> <h4 class="glyphicon glyphicon-ok" style="color:#46b8da;margin-left:10px;margin-bottom:2px" ng-click="modificarNombrePaquete(nombrePaquete)"></h4> </div> <div class="resultado-container" ng-show="paquete.reservaVuelo.length > 0"> <h4 class="font" style="margin-bottom: 30px"> Mis Vuelos Reservados ({{paquete.reservaVuelo.length}})</h4> <div class="row resultado-single" ng-repeat="reserva in paquete.reservaVuelo"> <div class="thumbnail col-xs-3"> <img class="img-rounded" ng-src="{{reserva.vuelo.aerolinea.url}}" alt="Image not found"> </div> <div class="col-xs-6"> <h4 class="bold">{{reserva.vuelo.aerolinea.name}}</h4> <h5><span class="bold">Salida:</span> {{reserva.vuelo.fechaSalida| date:\'medium\'}} - {{reserva.vuelo.ciudadOrigen.nombre}}</h5> <h5><span class="bold">Llegada:</span> {{reserva.vuelo.fechaLlegada| date:\'medium\'}} - {{reserva.vuelo.ciudadDestino.nombre}}</h5> </div> <div class="col-xs-3 align-center"> <div class="precio-container"> <div class="precio-font">{{reserva.vuelo.precio | currency:\'$\':2}}</div> </div> <button class="btn btn-danger btn-form" ng-click="quitarVueloDelCarrito(reserva)"> Quitar del Carrito </button> </div> </div> <hr> </div> <div class="resultado-container" ng-show="paquete.reservaHotel.length > 0"> <h4 class="font" style="margin-bottom: 30px"> Mis Hoteles Reservados ({{paquete.reservaHotel.length}})</h4> <div class="row resultado-single" ng-repeat="reserva in paquete.reservaHotel"> <div class="thumbnail col-xs-3"> <img class="img-rounded" ng-src="{{reserva.hotel.url}}" alt="Image not found"> </div> <div class="col-xs-6"> <h4 class="bold">{{reserva.hotel.nombre}}</h4> <h5><span class="bold">Dirección: </span>{{reserva.hotel.direccion}}</h5> <h5><span class="bold">Estrellas: </span>{{reserva.hotel.estrellas}}</h5> <h5><span class="bold">Fecha de ingreso: </span>{{reserva.fechaIngreso | date:\'MMM d, y\'}}</h5> <h5><span class="bold">Fecha de salida: </span>{{reserva.fechaSalida | date:\'MMM d, y\'}}</h5> </div> <div class="col-xs-3 align-center"> <div class="precio-container"> <div class="precio-font">{{reserva.monto | currency:\'$\':2}}</div> </div> <button class="btn btn-danger btn-form" ng-click="quitarHotelDelCarrito(reserva)"> Quitar del Carrito </button> </div> <hr> </div> <hr> </div> <div class="resultado-container" ng-show="paquete.reservaAuto.length > 0"> <h4 class="font" style="margin-bottom: 30px"> Mis Vehículos Reservados ({{paquete.reservaAuto.length}})</h4> <div class="row resultado-single" ng-repeat="reserva in paquete.reservaAuto"> <div class="thumbnail col-xs-3"> <img class="img-rounded" ng-src="{{reserva.auto.url}}" alt="Image not found"> </div> <div class="col-xs-6"> <h4 class="bold">{{reserva.auto.marca}} {{reserva.auto.modelo}}</h4> <h5><span class="bold">Agencia: </span>{{reserva.auto.agencia.nombre}}</h5> <h5><span class="bold">Fecha y lugar de retiro: </span>{{reserva.fechaRetiro | date:\'MMM d, y\'}} - {{reserva.lugarRetiro.nombre}}, {{reserva.lugarRetiro.pais}}</h5> <h5><span class="bold">Fecha y lugar de devolución: </span>{{reserva.fechaDevolucion | date:\'MMM d, y\'}} - {{reserva.lugarDevolucion.nombre}}, {{reserva.lugarDevolucion.pais}}</h5> </div> <div class="col-xs-3 align-center"> <div class="precio-container"> <div class="precio-font">{{reserva.monto | currency:\'$\':2}}</div> </div> <button class="btn btn-danger btn-form" ng-click="quitarAutoDelCarrito(reserva)"> Quitar del Carrito </button> </div> </div> <hr> </div> <div class="resultado-container"> <div class="row"> <div class="col-xs-9"> <h3 class="bold" style="margin-bottom: 30px"> Total a Abonar: </h3> </div> <div class="col-xs-3 align-center"> <div class="precio-container"> <div class="precio-font">{{paquete.montoTotal | currency:\'$\':2}}</div> <div id="paypal-button"></div> </div> </div> </div> </div> </div> <div ng-show="paquete.reservaVuelo.length == 0 && paquete.reservaHotel.length == 0 && paquete.reservaAuto.length == 0"> <div class="font"> <h4 class="align-center"> Tu carrito se encuentra vacio, comienza a llenarlo hoy!</h4> </div> <div> <div style="width: 300px; margin:auto"> <hr> <button style="margin-left:75px" type="submit" class="btn btn-info btn-form" ng-click="irAInicio()">Quiero Comenzar!</button> <hr> </div> </div> </div> </div> <div ng-show="pagoExitoso"> <div class="font"> <h4 class="align-center"> El pago fue realizado con exito, para conocer más ingresa a tus reservas</h4> </div> <div> <div style="width: 300px; margin:auto"> <hr> <button style="margin-left:75px" type="submit" class="btn btn-info btn-form" ng-click="irAMisReservas()">Mis Reservas</button> <hr> </div> </div> </div> <script>$( document ).ready(function() {\r\n            // if ()\r\n            var pay = \'1.00\';\r\n            // if (window.data) {\r\n            //     pay = window.data.toString();\r\n            // }\r\n         // var pay = window.localStorage[\'montoPaquete\'].toString();\r\n         // console.log(pay);\r\n         paypal.Button.render({\r\n            env: \'sandbox\',\r\n            client: {\r\n                sandbox:    \'AaexcTf1YLaokQ0wVax2oAbvlsvt2AucEXajnNkS5zzBb1Lb-HNaPIOLVf_jmqgxIY9S64z7l32-yRBa\',\r\n                production: \'xxxxxxxxx\'\r\n            },\r\n            commit: true, // Show a \'Pay Now\' button\r\n            payment: function(data, actions) {\r\n                return actions.payment.create({\r\n                    payment: {\r\n                        transactions: [\r\n                            {\r\n                                amount: { total: pay, currency: \'USD\' }\r\n                            }\r\n                        ]\r\n                    }\r\n                });\r\n            },\r\n            onAuthorize: function(data, actions) {\r\n                return actions.payment.execute().then(function(payment) {\r\n                    angular.element(document.getElementById(\'js-navbar-collapse\')).scope().pagarPaquete();\r\n                });\r\n            }\r\n        }, \'#paypal-button\');\r\n    });</script>'),a.put("views/miPaquete.html",'<h3 class="font" style="text-align: center">{{paquete.nombre}}</h3> <div class="resultado-container" ng-show="paquete.reservaVuelo.length > 0"> <h4 class="font" style="margin-bottom: 30px"> Vuelos({{paquete.reservaVuelo.length}})</h4> <div class="row resultado-single" ng-repeat="reserva in paquete.reservaVuelo"> <div class="thumbnail col-xs-3"> <img class="img-rounded" ng-src="{{reserva.vuelo.aerolinea.url}}" alt="Image not found"> </div> <div class="col-xs-6"> <h4 class="bold">{{reserva.vuelo.aerolinea.name}}</h4> <h5><span class="bold">Salida:</span> {{reserva.vuelo.fechaSalida| date:\'medium\'}} - {{reserva.vuelo.ciudadOrigen.nombre}}</h5> <h5><span class="bold">Llegada:</span> {{reserva.vuelo.fechaLlegada| date:\'medium\'}} - {{reserva.vuelo.ciudadDestino.nombre}}</h5> </div> <div class="col-xs-3 align-center"> <div class="precio-container"> <div class="precio-font">{{reserva.vuelo.precio | currency:\'$\':2}}</div> </div> </div> <hr> </div> <hr> </div> <div class="resultado-container" ng-show="paquete.reservaHotel.length > 0"> <h4 class="font" style="margin-bottom: 30px"> Hoteles ({{paquete.reservaHotel.length}})</h4> <div class="row resultado-single" ng-repeat="reserva in paquete.reservaHotel"> <div class="thumbnail col-xs-3"> <img class="img-rounded" ng-src="{{reserva.hotel.url}}" alt="Image not found"> </div> <div class="col-xs-6"> <h4 class="bold">{{reserva.hotel.nombre}}</h4> <h5><span class="bold">Dirección: </span>{{reserva.hotel.direccion}}</h5> <h5><span class="bold">Estrellas: </span>{{reserva.hotel.estrellas}}</h5> <h5><span class="bold">Fecha de ingreso: </span>{{reserva.fechaIngreso | date:\'MMM d, y\'}}</h5> <h5><span class="bold">Fecha de salida: </span>{{reserva.fechaSalida | date:\'MMM d, y\'}}</h5> </div> <div class="col-xs-3 align-center"> <div class="precio-container"> <div class="precio-font">{{reserva.monto | currency:\'$\':2}}</div> </div> </div> </div> <hr> </div> <div class="resultado-container" ng-show="paquete.reservaAuto.length > 0"> <h4 class="font" style="margin-bottom: 30px"> Vehículos ({{paquete.reservaAuto.length}})</h4> <div class="row resultado-single" ng-repeat="reserva in paquete.reservaAuto"> <div class="thumbnail col-xs-3"> <img class="img-rounded" ng-src="{{reserva.auto.url}}" alt="Image not found"> </div> <div class="col-xs-6"> <h4 class="bold">{{reserva.auto.marca}} {{reserva.auto.modelo}}</h4> <h5><span class="bold">Agencia: </span>{{reserva.auto.agencia.nombre}}</h5> <h5><span class="bold">Fecha y lugar de retiro: </span>{{reserva.fechaRetiro | date:\'MMM d, y\'}} - {{reserva.lugarRetiro.nombre}}, {{reserva.lugarRetiro.pais}}</h5> <h5><span class="bold">Fecha y lugar de devolución: </span>{{reserva.fechaDevolucion | date:\'MMM d, y\'}} - {{reserva.lugarDevolucion.nombre}}, {{reserva.lugarDevolucion.pais}}</h5> </div> <div class="col-xs-3 align-center"> <div class="precio-container"> <div class="precio-font">{{reserva.monto | currency:\'$\':2}}</div> </div> </div> </div> <hr> </div> <div class="resultado-container" ng-show="paquete.reservaVuelo.length > 0 || paquete.reservaHotel.length > 0 || paquete.reservaAuto.length > 0"> <div class="row"> <div class="col-xs-9"> <h3 class="bold" style="margin-bottom: 30px"> Total: </h3> </div> <div class="col-xs-3 align-center"> <div class="precio-container"> <div class="precio-font">{{paquete.montoTotal | currency:\'$\':2}}</div> <div id="paypal-button"></div> </div> </div> </div> </div>'),a.put("views/misPaquetes.html",'<h3 class="font align-center" style="margin-bottom: 30px">Mis Reservas</h3> <div class="font align-center"> <h4 ng-show="misPaquetes.length === 0"> Todavía no has realizado reservas </h4> </div> <div class="resultado-container"> <div ng-repeat="paquete in misPaquetes"> <div class="row"> <div class="col-xs-9"> <h3 style="color:#46b8da;font-weight:700" class="bold">{{paquete.nombre}}</h3> <h5><span class="bold">Monto:</span> {{paquete.montoTotal | currency:\'$\':2}}</h5> <h5><span class="bold">Fecha de pago:</span> {{paquete.fechaPago| date:\'yyyy-MM-dd HH:mm:ss\'}}</h5> </div> <div class="col-xs-3 align-center"> <button class="btn btn-info btn-form" style="margin-top:72px" ng-click="verPaquete(paquete._id)"> Ver mi reserva </button> </div> </div> <hr> </div> </div>'),a.put("views/signin.html",'<h3 class="align-center font"> Registrarme </h3> <p class="align-center">Ya eres miembro? Por favor <a href="#!/login">inicia sesion</a> entonces.</p> <p class="align-center help-block">{{error}}</p> <div> <form class="align-center form-margin one-row-form" name="signinForm" novalidate> <div class="row font"> <div class="col-xs-12"> <div class="form-group" ng-class="{\'has-error\':signinForm.name.$invalid && signinForm.$submitted}"> <label for="name">Nombre completo*</label> <input type="text" class="form-control" name="name" placeholder="Enter your name" ng-model="credentials.name" required> <p ng-show="signinForm.name.$invalid && signinForm.$submitted" class="help-block">Este campo es requerido.</p> </div> <div class="form-group" ng-class="{\'has-error\':signinForm.email.$invalid && signinForm.$submitted}"> <label for="email">Email *</label> <input type="email" class="form-control" name="email" placeholder="Enter email" ng-model="credentials.email" required> <p ng-show="signinForm.email.$invalid && signinForm.$submitted" class="help-block">Ingrese un mail válido.</p> </div> <div class="form-group" ng-class="{\'has-error\':signinForm.password.$invalid && signinForm.$submitted}"> <label for="password">Contraseña *</label> <input type="password" class="form-control" name="password" placeholder="Password" ng-model="credentials.password" required> <p ng-show="signinForm.password.$invalid && signinForm.$submitted" class="help-block">La contraseña es requerida.</p> </div> <div> <button type="submit" class="btn btn-info btn-form" ng-click="register()">Registrarme!</button> </div> </div> </div> </form> </div>'),
a.put("views/usuarios.html",'<div class="contacts"> <div class="my-header"> <h2 class="align-center margin-auto"> Usuarios </h2> </div> <table class="table table-bordered"> <tr> <th>Nombre</th> <th>Email</th> <th style="width:20px">Acción</th> </tr> <tr ng-repeat="usuario in usuarios"> <td> {{usuario.name}} </td> <td> {{usuario.email}} </td> <td style="width:20px"> <span style="margin-left:15px" class="glyphicon glyphicon-remove" ng-click="borrarUsuario(usuario._id)"></span> </td> </tr> </table> </div>')}]);